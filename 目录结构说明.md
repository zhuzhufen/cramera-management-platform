# 相机租赁管理平台 - 优化后的目录结构说明

## 项目概述
本项目是一个移动端相机租赁管理平台，采用前后端分离架构。前端使用原生HTML/CSS/JavaScript，后端使用Node.js + Express + PostgreSQL。

## 优化后的目录结构

```
camera-rental-platform/
├── 📄 根目录配置文件
│   ├── .env.example          # 环境变量示例文件
│   ├── package.json          # 项目依赖和脚本配置
│   ├── package-lock.json     # 依赖锁定文件
│   ├── server.js             # 主服务器文件
│   ├── docker-compose.yml    # Docker编排配置
│   ├── Dockerfile            # Docker镜像构建文件
│   ├── README.md             # 项目说明文档
│   └── 项目总结.md           # 项目开发总结
│
├── 📁 src/                   # 后端源代码目录
│   ├── controllers/          # 控制器层（待开发）
│   ├── models/               # 数据模型层（待开发）
│   ├── routes/               # 路由层（待开发）
│   ├── middleware/           # 中间件层（待开发）
│   └── utils/                # 工具函数（待开发）
│
├── 📁 public/                # 前端静态资源目录
│   ├── index.html            # 主页面文件
│   ├── styles.css            # 主样式文件
│   ├── 📁 js/                # JavaScript模块目录
│   │   ├── app.js            # 主应用入口文件
│   │   ├── config.js         # 前端配置管理
│   │   ├── camera-manager.js # 相机管理模块
│   │   ├── rental-manager.js # 租赁管理模块
│   │   ├── calendar-manager.js # 日历管理模块
│   │   └── user-manager.js   # 用户管理模块
│   ├── 📁 css/               # 样式文件目录
│   │   ├── base.css          # 基础样式
│   │   ├── layout.css        # 布局样式
│   │   ├── buttons.css       # 按钮样式
│   │   ├── modals.css        # 模态框样式
│   │   ├── tables.css        # 表格样式
│   │   ├── search.css        # 搜索样式
│   │   ├── login.css         # 登录样式
│   │   ├── calendar.css      # 日历样式
│   │   └── cameras.css       # 相机相关样式
│   └── 📁 assets/            # 静态资源目录（图片、字体等）
│
├── 📁 database/              # 数据库相关文件
│   └── 📁 migrations/        # 数据库迁移文件
│       └── init.sql          # 数据库初始化脚本
│
├── 📁 scripts/               # 工具脚本目录
│   ├── setup-database.js     # 数据库设置脚本
│   ├── generate-password.js  # 密码生成工具
│   ├── generate-bcrypt-password.js # Bcrypt密码生成
│   ├── update-users.js       # 用户更新脚本
│   ├── update-camera-status.js # 相机状态更新脚本
│   └── start-docker.sh       # Docker启动脚本
│
└── 📁 docker/                # Docker相关文件
    └── init.sql/             # Docker初始化SQL文件
```

## 目录结构优化说明

### 1. 根目录清理
- 将所有工具脚本移动到 `scripts/` 目录
- 保持根目录只包含核心配置文件
- 提高项目根目录的整洁度

### 2. 前端模块化组织
- 将JavaScript文件统一移动到 `public/js/` 目录
- CSS文件按功能模块组织在 `public/css/` 目录
- 便于前端代码的维护和扩展

### 3. 后端架构预留
- 创建 `src/` 目录为后端代码重构做准备
- 采用MVC架构模式组织代码
- 便于后续功能扩展和维护

### 4. 数据库管理
- 将数据库初始化文件移动到 `database/migrations/`
- 便于数据库版本管理和迁移

### 5. 工具脚本集中管理
- 所有辅助脚本统一放在 `scripts/` 目录
- 便于脚本的查找和使用

## 功能模块说明

### 前端模块
- **app.js**: 主应用入口，负责应用初始化和全局状态管理
- **config.js**: 前端配置管理，包含API端点配置
- **camera-manager.js**: 相机管理功能，包括增删改查
- **rental-manager.js**: 租赁管理功能，包括租赁创建和状态管理
- **calendar-manager.js**: 日历视图功能，展示租赁时间安排
- **user-manager.js**: 用户管理功能，支持权限控制

### 后端功能
- **server.js**: Express服务器，提供RESTful API
- 支持相机管理、租赁管理、用户管理等功能
- 包含JWT认证和权限控制

### 数据库
- PostgreSQL数据库
- 包含用户、相机、客户、租赁等表
- 支持复杂的查询和关联操作

## 启动方式

```bash
# 安装依赖
npm install

# 设置数据库
npm run setup-db

# 启动开发服务器
npm run dev

# 或直接启动
npm start
```

## 优化效果

1. **结构清晰**: 按功能模块组织文件，便于维护
2. **模块化**: 前端JavaScript按功能拆分，降低耦合度
3. **可扩展**: 预留了后端架构，便于后续功能扩展
4. **标准化**: 符合现代Web应用的项目结构标准
5. **功能完整**: 所有原有功能保持不变，仅优化了组织结构

这个优化后的目录结构既保持了项目的功能性，又提高了代码的可维护性和可扩展性。
